(this["webpackJsonpvisualizing-abolitions"]=this["webpackJsonpvisualizing-abolitions"]||[]).push([[7],{834:function(e,t,a){"use strict";a.r(t),a.d(t,"DatabaseComponent",(function(){return b}));var n=a(419),i=a.n(n),l=a(0),r=a(573),o=a(37),s=a(21),c=a(61),u=a(4),d=Object(r.a)((function(){return a.e(8).then(a.bind(null,576))})).Details;function b(e){var t=e.tableRef,a=e.columns;return a=e.columns.filter((function(e){return e.show})),Object(u.jsx)("div",{className:"database-component",children:Object(u.jsx)(i.a,{tableRef:e.tableRef,onFilterChange:function(a){!function(a){if(0===a.length){var n=Object(c.c)();console.log(n),e.setTimeLineData({timelineData:n.timelineData}),e.setTableData({tableData:n.tableData}),e.setMapData({mapData:n.mapData}),e.setWordCloudData({wordcloudData:n.wordcloudData}),console.log("cleared")}else{var i=t.current.state.data.map((function(e){return{id:e.id,letter:e.letter,lat:e.lat,lon:e.lon,summary:e.summary,sender:e.sender,receiver:e.receiver,origin:e.origin,impor:e.impor,source:e.source,dateSent:e.dateSent,dateReceived:e.dateReceived}})),l=Object.values(i.reduce((function(e,t){var a=t.impor;return e[a]?e[a].z+=1:(e[a]=t,e[a].z=1),e}),{})),r=Object.values(i.reduce((function(e,t){var a,n=null===t||void 0===t||null===(a=t.dateSent)||void 0===a?void 0:a.split("-");if(n.length>0){var i=n[0];return e[i]?e[i].y+=1:(e[i]={name:n[0]},e[i].y=1),e}return{}}),{})),o=t.current.state.data.map((function(e){return{text:e.summary,value:e.letter}}));e.setTimeLineData({timelineData:r}),e.setTableData({tableData:i}),e.setMapData({mapData:l}),e.setWordCloudData({wordcloudData:o})}}(a)},columns:a,data:e.tableData,options:{filtering:!0},detailPanel:function(e){return Object(u.jsx)("div",{style:{padding:"10px"},children:Object(u.jsxs)(l.Suspense,{fallback:Object(u.jsx)("div",{children:"loading"}),children:[" ",Object(u.jsx)(d,{data:e})]})})}})})}t.default=Object(o.b)((function(e){return{tableData:e.abolitionData.tableData,columns:e.abolitionData.columns}}),{setMapData:s.b,setTableData:s.c,setTimeLineData:s.d,setWordCloudData:s.e})(b)}}]);
//# sourceMappingURL=7.b6f10bae.chunk.js.map